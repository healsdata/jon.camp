{{- /* Post card partial - expects a page context */ -}}
<article class="post-card{{ if .Params.pinned }} pinned{{ end }}" {{ with .CurrentSection }}data-category="{{ .Title | urlize }}"{{ end }}>
  <h2 class="post-card-title">
    {{- if .Params.pinned }}<svg class="pin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/></svg>{{ end -}}
    <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
  </h2>
  <div class="post-card-meta">
    {{- $hasUpdate := ne (.Date.Format "2006-01-02") (.Lastmod.Format "2006-01-02") }}
    {{- $displayDate := cond $hasUpdate .Lastmod .Date }}
    {{- $dateMachine := $displayDate | time.Format "2006-01-02T15:04:05-07:00" }}
    {{- $dateHuman := $displayDate | time.Format "Jan 2, 2006" }}
    <span class="date-display{{ if $hasUpdate }} has-update{{ end }}">
      <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
      {{- if $hasUpdate }}
      <span class="date-tooltip">
        <span class="date-created">Created {{ .Date | time.Format "Jan 2, 2006" }}</span>
        <span class="date-updated">Updated {{ .Lastmod | time.Format "Jan 2, 2006" }}</span>
      </span>
      {{- end }}
    </span>
  </div>
  <div class="post-card-excerpt">
    {{ .Summary }}
  </div>
  <a href="{{ .RelPermalink }}" class="post-card-read-more">Continue reading &rarr;</a>
</article>
